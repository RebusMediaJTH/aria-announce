!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):((e="undefined"!=typeof globalThis?globalThis:e||self).dioada=e.dioada||{},e.dioada.announce=t())}(this,(function(){"use strict";var e,t,i={appendTo:"body",assertive:!0,atomic:!0,clearAfter:5,stripHTMLTags:!1,test:!1},a=function(){e&&(e.innerHTML="",i.test&&e.classList.remove("has-text"),i.assertive!==e.getAttribute("aria-live")&&e.setAttribute("aria-live",i.assertive?"assertive":"polite"),i.atomic!==e.getAttribute("aria-atomic")&&e.setAttribute("aria-atomic",i.atomic))},s=function(){window.clearTimeout(t),a()},n=function(s,n){var o,r;void 0!==(n=n||{}).assertive&&n.assertive!==i.assertive&&e.setAttribute("aria-live",n.assertive?"assertive":"polite"),void 0!==n.atomic&&n.atomic!==i.atomic&&e.setAttribute("aria-atomic",n.atomic),n=Object.assign({},i,n);var c=(s=n.stripHTMLTags?(o=s,(r=document.createElement("div")).innerHTML=o,r.innerText):s)===e.innerHTML;window.clearTimeout(t),s&&i.test&&e.classList.add("has-text"),c&&(e.innerHTML="",i.test&&e.classList.remove("has-text")),t=window.setTimeout((function(){e.innerHTML=s,i.test&&e.classList.add("has-text"),-1!==n.clearAfter&&""!==s&&(t=window.setTimeout(a,1e3*n.clearAfter))}),c?100:0)};return n.init=function(t){Object.assign(i,t);var a=document.querySelector(i.appendTo||"body");a?((e=document.createElement("div")).setAttribute("id","aria-alerts-container"),e.setAttribute("aria-live",t.assertive?"assertive":"polite"),e.setAttribute("aria-atomic",t.atomic?"true":"false"),i.test&&(e.classList.add("testing"),e.addEventListener("click",s)),a.append(e)):console.error('aria-announce attempted to access non-existent DOM node: "'.concat(t.appendTo,'"'))},n}));
